(this["webpackJsonplaunch-pedia"]=this["webpackJsonplaunch-pedia"]||[]).push([[0],{168:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},170:function(e,t,a){e.exports=a(326)},323:function(e,t,a){},324:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),s=a(18),i=a(19),u=a(23),l=a(22),h=a(95),f=a.n(h),d=a(115),p=a.n(d),v=a(48),m=a.n(v),g=a(116),y=a.n(g),D=a(117),E=a.n(D),k=a(118),b=a.n(k),S=a(119),R=a.n(S),C=a(120),w=a.n(C),L=a(59),O=a.n(L),j=a(84),N=a.n(j),Y=a(124),A=a.n(Y),F=a(125),T=a.n(F),x=a(128),M=a.n(x),U=a(129),I=a.n(U),P=function(e){var t=e.launchDetails;return r.a.createElement("strong",null,r.a.createElement("p",null,t.name),r.a.createElement("p",null,"Launch Date: ",t.net))},q=function(e){var t=e.rocketName,a=e.locationName,n=e.numberOfAgencies,o=e.agencyNames;return r.a.createElement("div",null,t," is being prepared for launch at ",a,". This rocket is controlled by ",n," ",o,".")},z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"numberOfAgencies",value:function(e){return console.log(e),null==e?"":e.length>1?e.length+" agencies:":""}},{key:"agencyNames",value:function(e){var t=[];return null==e?"an unknown agency":(e.forEach((function(e){t.push(e.name)})),t.length>1&&(t[t.length-1]="and "+t[t.length-1]),t.join(", "))}},{key:"render",value:function(){return r.a.createElement(m.a,{className:"Launch-info"},r.a.createElement(I.a,{xs:6,md:4},r.a.createElement(m.a.Left,{align:"top"},r.a.createElement(H,{imageURL:this.props.imageURL,imageSizes:this.props.imageSizes}))),r.a.createElement(I.a,{xs:12,md:8},r.a.createElement(m.a.Body,null,r.a.createElement(q,{rocketName:this.props.rocketName,locationName:this.props.locationName,numberOfAgencies:this.numberOfAgencies(this.props.agencies),agencyNames:this.agencyNames(this.props.agencies)}),r.a.createElement(m.a.Left,{align:"bottom"},r.a.createElement(J,{favoritesStore:this.props.favoritesStore,launch:this.props.launch,triggerReload:this.props.triggerReload})))))}}]),a}(n.Component),B=function(e){var t=e.launchDetails,a=e.favoritesStore,n=e.triggerReload;return r.a.createElement(f.a,{header:P({launchDetails:t}),eventKey:t.id,key:t.id,className:"Launch-div"},r.a.createElement(z,{rocketName:t.rocket.name,locationName:t.location.name,agencies:t.rocket.agencies,imageURL:t.rocket.imageURL,imageSizes:t.rocket.imageSizes,favoritesStore:a,launch:t,triggerReload:n}))},K=function(e,t,a){return B({launchDetails:e,favoritesStore:t,triggerReload:a})},W=function(e){var t=e.launches,a=e.favoritesStore,n=e.triggerReload;return r.a.createElement(p.a,null,t.map((function(e){return K(e,a,n)})))},H=function(e){var t=e.imageURL,a=e.imageSizes,n=t.replace(/_(\d+)/g,"_".concat(a[0]));return r.a.createElement("img",{alt:"Rocket",src:n})},J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).toggleFavorite=function(){var t=e.props.launch;e.props.favoritesStore.toggleFavorite(t),e.props.triggerReload()},e}return Object(i.a)(a,[{key:"favoritesMessage",value:function(){var e=this.props.launch;return this.props.favoritesStore.hasFavorite(e)?"Remove from Favorites":"Add to Favorites"}},{key:"render",value:function(){return r.a.createElement(O.a,{onClick:this.toggleFavorite},r.a.createElement(N.a,{glyph:"star"})," ",this.favoritesMessage())}}]),a}(n.Component),_=(a(263),a(135)),$=a(10),G=$(),Q=$().add(15,"days"),V=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateDates=function(t,a){e.setState({startDate:t,endDate:a}),e.props.updateParentDate({startDate:t,endDate:a})},e.state={startDate:G,endDate:Q,focusedInput:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Launch-date-picker"},r.a.createElement(_.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.updateDates(a,n)},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},showClearDates:!0,isOutsideRange:function(){return!1}}))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateSearchType=function(t){var a;a="1"===t?"Country Code":"Agency Abbrevation",e.setState({searchType:a},e.refreshSearch)},e.refreshSearch=function(){e.doSearch(e.state.value,e.launchData)},e.agencyAbbrevations=function(e){var t=[];return e.forEach((function(e){t.push(e.abbrev)})),t.join(" ")},e.launchData=function(t){return"Country Code"===e.state.searchType?t.location.countryCode.toLowerCase():e.agencyAbbrevations(t.rocket.agencies).toLowerCase()},e.handleChange=function(t,a){e.setState({value:t},e.doSearch(t,a))},e.doSearch=function(t,a){var n=[];e.props.launches.forEach((function(e){-1!==a(e).indexOf(t.toLowerCase())&&n.push(e)})),e.props.updateSearchResults({queryText:t,searchResults:n})},e.state={searchType:"Country Code",value:""},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{inline:!0},r.a.createElement(E.a,{className:"Launch-search"},r.a.createElement(R.a,null,r.a.createElement(w.a,{componentClass:R.a.Button,id:"input-dropdown-addon",title:this.state.searchType},r.a.createElement(A.a,{key:"1",onSelect:function(){return e.updateSearchType("1")}},"Country Code"),r.a.createElement(A.a,{key:"2",onSelect:function(){return e.updateSearchType("2")}},"Agency Abbrevation")),r.a.createElement(b.a,{type:"text",value:this.state.value,placeholder:"Search",onChange:function(t){return e.handleChange(t.target.value,e.launchData)}}))))}}]),a}(n.Component),Z=function(e){var t=e.updateParentDate,a=e.launches,n=e.updateSearchResults;return r.a.createElement(f.a,null,r.a.createElement(V,{updateParentDate:t}),r.a.createElement(X,{launches:a,updateSearchResults:n}))},ee=a(168),te=a.n(ee),ae=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:te.a,className:"App-logo",alt:"logo"}),"Loading")},ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateParentDate=function(t){var a=t.startDate,n=t.endDate;e.setState({startDate:a,endDate:n},e.queryData)},e.updateSearchResults=function(t){""===t.queryText?e.setState({searchResults:t.searchResults,filtered:!1}):e.setState({searchResults:t.searchResults,filtered:!0})},e.launchDisplayConstructor=function(t){return 0===t.length?r.a.createElement("span",null,"No results."):r.a.createElement(W,{launches:t,favoritesStore:e.props.favoritesStore,triggerReload:e.triggerReload})},e.searchResultDisplay=function(){return!0===e.state.loading?r.a.createElement(ae,null):!0===e.state.filtered?e.launchDisplayConstructor(e.state.searchResults):e.launchDisplayConstructor(e.state.launches)},e.favoriteResultDisplay=function(){return e.launchDisplayConstructor(e.props.favoritesStore.favorites)},e.triggerReload=function(){e.forceUpdate()},e.state={launches:[],startDate:G,endDate:Q,filtered:!1,searchResults:[],favoriteLaunches:[],loading:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.queryData()}},{key:"fullLaunchURLTemplate",value:function(e,t,a){return"https://launchlibrary.net/1.3/launch/".concat(e,"/").concat(t,"?offset=").concat(a)}},{key:"launchesURL",value:function(e){var t,a,n=this.state.startDate,r=this.state.endDate;return null==n&&null==r?(t=G.format("YYYY-MM-DD"),a=Q.format("YYYY-MM-DD"),this.fullLaunchURLTemplate(t,a,e)):null==r?(t=n.format("YYYY-MM-DD"),"https://launchlibrary.net/1.3/launch/".concat(t,"?offset={offset}")):(t=n.format("YYYY-MM-DD"),a=r.format("YYYY-MM-DD"),this.fullLaunchURLTemplate(t,a,e))}},{key:"queryData",value:function(){this.setState({loading:!0});var e=this.launchesURL(0);this.accessData(e,[])}},{key:"accessData",value:function(e,t){var a=this;fetch(e).then((function(e){if(e.ok)return e.json();console.log(e);var t="Response Failed. Status Code - ".concat(e.status,". Error Message - ").concat(e.statusText);throw new Error(t)})).then((function(e){a.processData(e,t)})).catch((function(e){console.log(e),a.errorHandler(e,t)}))}},{key:"processData",value:function(e,t){var a=t.concat(e.launches);if(e.count+e.offset<e.total){var n=e.offset+10,r=this.launchesURL(n);this.accessData(r,a)}else this.setState({launches:a,loading:!1})}},{key:"errorHandler",value:function(e,t){this.setState({launches:t,loading:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(T.a,{defaultActiveKey:1,id:"navbar"},r.a.createElement(M.a,{eventKey:1,title:"Search"},r.a.createElement(Z,{updateParentDate:this.updateParentDate,launches:this.state.launches,updateSearchResults:this.updateSearchResults}),r.a.createElement("hr",null),this.searchResultDisplay()),r.a.createElement(M.a,{eventKey:2,title:"Favorites"},r.a.createElement(f.a,null,"Your favorites are stored here. To add or remove a favorite, simply click on the ",r.a.createElement(N.a,{glyph:"star"})," button."),this.favoriteResultDisplay())))}}]),a}(n.Component),re=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ce=a(169),se=function(){function e(){Object(s.a)(this,e),Object(ce.a)(this,{favorites:[]})}return Object(i.a)(e,[{key:"findIndex",value:function(e){return this.favorites.findIndex((function(t){return t.id===e}))}},{key:"hasFavorite",value:function(e){return this.findIndex(e.id)>-1}},{key:"toggleFavorite",value:function(e){this.hasFavorite(e)?this.removeFavorite(e):this.addFavorite(e)}},{key:"addFavorite",value:function(e){this.favorites.push(e)}},{key:"removeFavorite",value:function(e){var t=this.findIndex(e.id);t>-1&&this.favorites.splice(t,1)}}]),e}(),ie=(a(323),a(324),a(325),new se);c.a.render(r.a.createElement(ne,{favoritesStore:ie}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/LaunchPedia",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/LaunchPedia","/service-worker.js");re?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):oe(e)}))}}()}},[[170,1,2]]]);
//# sourceMappingURL=main.d58fbc69.chunk.js.map